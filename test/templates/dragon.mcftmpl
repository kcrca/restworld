<%namespace name="base"  file="base.mcftmpl"/>
<% r = range(0, 2) %>


kill @e[type=minecraft:ender_dragon]
<%base:loop collection="${r}" args="when,i,item">
%if i:
${when(i)} summon minecraft:ender_dragon ~ ~5 ~ {NoAi:True,Silent:True,Rotation:[270f,0f]}
${when(i)} summon dragon_fireball ~-10 ~5 ~ {direction:[0.0,0.0,0.0],ExplosionPower:0}
${when(i)} setblock ~-5 ~4 ~ minecraft:wall_sign[facing=west]{Text2:${text("Dragon")}}
${when(i)} setblock ~-10 ~4 ~ minecraft:wall_sign[facing=west]{Text2:${text("Dragon Fireball")}}
${when(i)} setblock ~-14 ~4 ~ minecraft:lever[powered=true,face=floor,facing=west]
%else:
${when(i)} kill @e[type=minecraft:dragon_fireball]
${when(i)} setblock ~-5 ~4 ~ minecraft:air
${when(i)} setblock ~-10 ~4 ~ minecraft:air
${when(i)} setblock ~-14 ~4 ~ minecraft:lever[powered=false,face=floor,facing=west]
%endif
</%base:loop>
