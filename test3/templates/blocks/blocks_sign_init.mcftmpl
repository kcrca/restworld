<%namespace file="../sign_base.mcftmpl" import="*"/>\

execute unless entity @e[tag=signer] run summon armor_stand ~ ~2 ~ {Tags:[signer],ArmorItems:[{},{},{},{id:iron_helmet,Count:1}],Rotation:[270f,0f],NoGravity:true}
execute at @e[tag=signer] run data merge block ~ ~ ~-1 {${sign_local_nbt(0, "function v3:blocks/toggle_expand", "")}}
execute at @e[tag=signer] run data merge block ~ ~ ~2 {${sign_local_nbt(0, "function v3:blocks/toggle_expand", "")}}
execute at @e[tag=signer] run data merge block ~ ~ ~10 {${sign_local_nbt(0, "function v3:blocks/toggle_expand", "")}}
execute at @e[tag=signer] run data merge block ~ ~ ~13 {${sign_local_nbt(0, "function v3:blocks/toggle_expand", "")}}
execute as @e[tag=signer] run execute at @s run tp @s ^ ^ ^3
execute as @e[tag=signer] run execute at @s unless block ^ ^0 ^ minecraft:air run kill @e[tag=signer]
execute as @e[tag=signer] run execute at @s if block ^ ^0 ^ minecraft:air run function v3:blocks/blocks_sign_init
%for no_expand in ("colorings", "frosted_ice", "cake", "block_sign", "expand"):
tag @e[tag=${no_expand}_home] add no_expansion
%endfor
