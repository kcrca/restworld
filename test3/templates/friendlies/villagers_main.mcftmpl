<%namespace name="base" file="../base.mcftmpl"/>

${base.remove("tag=villager")}

<%base:loop collection="${(0, 1)}" args="when,i,thing">
% if thing == 0:
${base.mobs_init(y_init=0.3, x_delta_init=-2, adult_z_init=0, kid_z_init=-2, rotation_init=180)}\
%   for p in professions:
${when(i)} ${base.mobs(p, id="villager", do_kid=True, nbt="Profession:%d" % loop.index, tags=("villager",))}\
%   endfor
${base.mobs_init(y_init=0.3, x_delta_init=-2, adult_z_init=0, kid_z_init=-2, rotation_init=180)}\
%   for p in professions:
${when(i)} ${base.mobs(p, id="villager", do_adult=True, nbt="Profession:%d" % loop.index, tags=("villager",))}\
%   endfor
% else:
${base.mobs_init(y_init=0.3, x_delta_init=-2, adult_z_init=0, kid_z_init=-2, rotation_init=180)}\
%   for p in professions:
${when(i)} ${base.mobs("Zombie %s" % p, do_kid=True, y_add=-0.125, id="zombie_villager", nbt="Profession:%d" % loop.index, tags=("villager",))}\
%   endfor
${base.mobs_init(y_init=0.3, x_delta_init=-2, adult_z_init=0, kid_z_init=-2, rotation_init=180)}\
%   for p in professions:
${when(i)} ${base.mobs("Zombie %s" % p, do_adult=True, y_add=-0.125, id="zombie_villager", nbt="Profession:%d" % loop.index, tags=("villager",))}\
%   endfor
% endif
</%base:loop>
