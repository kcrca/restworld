<%def name="if_user_in(world)">\
execute as @p at @s[nbt={Dimension:"minecraft:${world}"}] in overworld run\
</%def>\

## In the overworld, go to the middle
${if_user_in('overworld')} tp @p 0 101 0 facing 0 101 10

## In the nether, go directly in front of the nether portal
${if_user_in('the_nether')} tp @p 57 101 -5 facing 50 102 -5

## In the end, go to the end portals
${if_user_in('the_end')} tp @s 12 102 76 facing 12 102 83

execute in overworld run weather clear
